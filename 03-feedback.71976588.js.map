{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,uBAC9BE,SAAUH,SAASC,cAAc,6BAEnCH,EAAKC,KAAKK,iBAAiB,UAI3B,SAAyBC,GACvBA,EAAMC,iBACN,MAAMC,EAAaC,KAAKC,MAAMC,aAAaC,QAbzB,wBAcZC,EAAQP,EAAMQ,cAAcD,MAAME,MAClCC,EAAUV,EAAMQ,cAAcE,QAAQD,MAE5C,GAAc,KAAVF,GAA4B,KAAZG,EAClB,OAAOC,MAAM,wCAEXT,GACFU,QAAQC,IAAIX,GAEdF,EAAMQ,cAAcM,QACpBT,aAAaU,WAxBK,0BAQpBtB,EAAKC,KAAKK,iBAAiB,SAAS,EAAAR,EAAAyB,WAmBpC,SAAgBhB,GACd,MAAMiB,EAAW,CAAEV,MAAOd,EAAKI,MAAMY,MAAOC,QAASjB,EAAKK,SAASW,OACnEJ,aAAaa,QA7BK,sBA6BgBf,KAAKgB,UAAUF,MArBE,MAwBrD,WACE,MAAMA,EAAWZ,aAAaC,QAjCZ,uBAkCZJ,EAAaC,KAAKC,MAAMa,GAC1BA,IACFxB,EAAKI,MAAMY,MAAQP,EAAWK,MAC9Bd,EAAKK,SAASW,MAAQP,EAAWQ,SA5BrCU","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  input: document.querySelector('input[type=\"email\"]'),\n  textarea: document.querySelector('textarea[name=\"message\"]'),\n};\nrefs.form.addEventListener('submit', onStorageSubmit);\nrefs.form.addEventListener('input', throttle(onPlay, 500));\ndataRecovery();\n\nfunction onStorageSubmit(event) {\n  event.preventDefault();\n  const parsedData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  const email = event.currentTarget.email.value;\n  const message = event.currentTarget.message.value;\n\n  if (email === '' || message === '') {\n    return alert('Будь-ласка заповніть всі поля форми!');\n  }\n  if (parsedData) {\n    console.log(parsedData);\n  }\n  event.currentTarget.reset();\n  localStorage.removeItem(STORAGE_KEY);\n}\n\nfunction onPlay(event) {\n  const dataPlay = { email: refs.input.value, message: refs.textarea.value };\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(dataPlay));\n}\n\nfunction dataRecovery() {\n  const dataPlay = localStorage.getItem(STORAGE_KEY);\n  const parsedData = JSON.parse(dataPlay);\n  if (dataPlay) {\n    refs.input.value = parsedData.email;\n    refs.textarea.value = parsedData.message;\n  }\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","form","document","querySelector","input","textarea","addEventListener","event","preventDefault","parsedData","JSON","parse","localStorage","getItem","email","currentTarget","value","message","alert","console","log","reset","removeItem","throttle","dataPlay","setItem","stringify","$945622fd0f572e60$var$dataRecovery"],"version":3,"file":"03-feedback.71976588.js.map"}