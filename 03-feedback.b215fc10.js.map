{"mappings":"gfAAA,IAkCQA,EACAC,EAnCRC,EAAAC,EAAA,SACMC,EAAc,sBAEdC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,uBAC9BE,SAAUH,SAASC,cAAc,6BAEnCH,EAAKC,KAAKK,iBAAiB,UAI3B,SAAyBC,GACvBA,EAAMC,iBACN,IAAMZ,EAAaa,KAAKC,MAAMC,aAAaC,QAAQb,IAC7Cc,EAAQN,EAAMO,cAAcD,MAAME,MAClCC,EAAUT,EAAMO,cAAcE,QAAQD,MAE5C,GAAc,KAAVF,GAA4B,KAAZG,EAClB,OAAOC,MAAM,wCAEXrB,GACFsB,QAAQC,IAAIvB,GAEdW,EAAMO,cAAcM,QACpBT,aAAaU,WAAWtB,MAhB1BC,EAAKC,KAAKK,iBAAiB,SAAS,EAAAT,EAAAyB,WAmBpC,SAAgBf,GACd,IAAMZ,EAAW,CAAEkB,MAAOb,EAAKI,MAAMW,MAAOC,QAAShB,EAAKK,SAASU,OACnEJ,aAAaY,QAAQxB,EAAaU,KAAKe,UAAU7B,MArBE,MAyB7CA,EAAWgB,aAAaC,QAAQb,GAChCH,EAAaa,KAAKC,MAAMf,GAC1BA,IACFK,EAAKI,MAAMW,MAAQnB,EAAWiB,MAC9Bb,EAAKK,SAASU,MAAQnB,EAAWoB,S","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  input: document.querySelector('input[type=\"email\"]'),\n  textarea: document.querySelector('textarea[name=\"message\"]'),\n};\nrefs.form.addEventListener('submit', onStorageSubmit);\nrefs.form.addEventListener('input', throttle(onPlay, 500));\ndataRecovery();\n\nfunction onStorageSubmit(event) {\n  event.preventDefault();\n  const parsedData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  const email = event.currentTarget.email.value;\n  const message = event.currentTarget.message.value;\n\n  if (email === '' || message === '') {\n    return alert('Будь-ласка заповніть всі поля форми!');\n  }\n  if (parsedData) {\n    console.log(parsedData);\n  }\n  event.currentTarget.reset();\n  localStorage.removeItem(STORAGE_KEY);\n}\n\nfunction onPlay(event) {\n  const dataPlay = { email: refs.input.value, message: refs.textarea.value };\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(dataPlay));\n}\n\nfunction dataRecovery() {\n  const dataPlay = localStorage.getItem(STORAGE_KEY);\n  const parsedData = JSON.parse(dataPlay);\n  if (dataPlay) {\n    refs.input.value = parsedData.email;\n    refs.textarea.value = parsedData.message;\n  }\n}\n"],"names":["dataPlay","parsedData","$1WSnx","parcelRequire","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$refs","form","document","querySelector","input","textarea","addEventListener","event","preventDefault","JSON","parse","localStorage","getItem","email","currentTarget","value","message","alert","console","log","reset","removeItem","throttle","setItem","stringify"],"version":3,"file":"03-feedback.b215fc10.js.map"}